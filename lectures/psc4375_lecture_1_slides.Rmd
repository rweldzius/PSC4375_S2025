---
title: "PSC4375: Introduction to Causality"
subtitle: "Week 1"
author: "Prof. Weldzius"
institute: "Villanova University"
date: "Slides Updated: `r Sys.Date()`"
output:
  beamer_presentation:
    theme: "AnnArbor"
    colortheme: "dolphin"
    fonttheme: "structurebold"

---

```{css,echo = F}
.small .remark-code { /*Change made here*/
  font-size: 85% !important;
}
.tiny .remark-code { /*Change made here*/
  font-size: 50% !important;
}
```

```{r,include=F}
set.seed(123)
options(width=60)
knitr::opts_chunk$set(fig.align='center',fig.width=9,fig.height=5,message=F,warning=F)
def.chunk.hook  <- knitr::knit_hooks$get("chunk")
knitr::knit_hooks$set(chunk = function(x, options) {
  x <- def.chunk.hook(x, options)
  ifelse(options$size != "normalsize", paste0("\n \\", options$size,"\n\n", x, "\n\n \\normalsize"), x)
})
```

# What is causal effect?

**Factual** vs. **Counterfactual** \pause 

  * Does the minimum wage increase the unemployment rate? \pause 

    - Unemployment rate went up after the minimum wage increased
    - Would it have gone up if the minimum wage increase not occurred? \pause 
  
  * Does having girls affect a judge’s rulings in court? \pause 

    - A judge with a daughter gave a pro-choice ruling.
    - Would they have done that if had a son instead? \pause 

  * **Fundamental problem of causal inference:** \pause 
    - Can never observe counterfactuals, must be inferred.

---

# Criminal record experiment

\begin{center}
\includegraphics[width=.4\textwidth]{figs/criminal_record.jpg}
\end{center}

  * Does having a criminal record affect job prospects?
  * Experimental setting:
    - Randomly assign 4 hired “confederates” (2 White, 2 Black) to apply to
different jobs in Milwaukee.
    - Men were matched on physical appearance, self-presentation, age, etc.
    - Confederates would alternate indicating they had a criminal record.
  * Outcome of interest: receiving a callback from a potential employer.
  
---  

# A tale of two applications

\begin{center}
\begin{tabular}{ l | l  l }
     & Criminal Record  & Callback? \\ \hline
    Applicant 1 &  & \\ 
    Applicant 2 &  & \\ 
\end{tabular}
\end{center}

  * Did the first applicant not callback the applicant **because** they had a
criminal record?

---

# Notation and Jargon

  * **Unit** (indexed by $i$): job application for employer
  * **Treatment variable** $T_i$: criminal record or not
  * **Treatment group** (treated units): applications with criminal record
  * **Control group** (untreated units): applications without criminal record
  * **Outcome variable** $Y_i$: callback
 
\begin{center}  
\begin{tabular}{ l | l  l }
     & $T_i$ (ex-felon)  & $Y_i$ (callback) \\ \hline
    Ex-felon applicant & 1 & 0 \\ 
    Non-ex-felon applicant & 0  & 1 \\ 
\end{tabular}
\end{center}
---

# Causal effects and counterfactuals

  * What does "$T_i$ causes $Y_i$" mean? $\rightsquigarrow$ **counterfactuals**, "what if"
  * Would an employer treat criminal & noncriminal applicants differently?
  * Two **potential outcomes**:
    - $Y_i (1)$: would applicant $i$ get a callback if applied as an ex-felon?
    - $Y_i (0)$: would applicant $i$ get a callback if applied not as an ex-felon?
  * **Causal effect**: $Y_i (1)$ - $Y_i (0)$
    - $Y_i (1) - Y_i (0) = 0 \rightsquigarrow$ criminal record has no impact on callback
    - $Y_i (1) - Y_i (0) = -1 \rightsquigarrow$ criminal record prevents callback
    - $Y_i (1) - Y_i (0) = +1 \rightsquigarrow$ criminal record leads to callback
    
---

# Potential Outcomes

\begin{center}  
\begin{tabular}{ l | l  l  l  l}
     & $T_i$ (ex-felon)  & $Y_i$ (callback) & $Y_i (1)$ & $Y_i (0)$ \\ \hline
    Ex-felon applicant & 1 & 0 & 0 & ???\\ 
    Non-ex-felon applicant & 0  & 1 & ??? & 1 \\ 
\end{tabular}
\end{center}

  * **Fundamental problem of causal inference**:
    - We only observe one of the two potential outcomes.
    - Observe $Y_i = Y_i (1)$ if $T_i = 1$ or $Y_i = Y_i (0)$ if $T_i = 0$
  * To infer causal effect, we need to infer the missing counterfactuals!
  
---

# How can we figure out counterfactuals?

\begin{center}
\includegraphics[width=.4\textwidth]{figs/shining.jpg}
\end{center}

  * Find a similar unit! $\rightsquigarrow$ **matching**
    - Mill’s method of difference
  * Did applicant fail to get a job offer because of his criminal record?
    - $\rightsquigarrow$ find a non-ex-felon who is just like ex-felon applicant.
  * NJ increased the minimum wage. Causal effect on unemployment?
    - $\rightsquigarrow$ find a state similar to NJ that didn’t increase minimum wage.
    
---

# Imperfect matches

:::::: {.columns}

::: {.column width="40%" data-latex="{0.4\textwidth}"}

\includegraphics[width=1\textwidth]{figs/twins.jpg}

:::

::: {.column width="60%" data-latex="{0.6\textwidth}"}

\begin{itemize}
  \item The problem: imperfect matches!
  \item Say we match $i$ (treated) and $j$ (control)
  \item **Selection Bias**: $Y_i (1) \neq Y_j (1)$
  \item Those who take treatment may be different that those who take control.
  \item How can we correct for that?
\end{itemize}

:::

::::::
